{% extends "base.html" %}
{% block title %}Editar Transação - Foco Financeiro{% endblock %}
{% block container_class %}container-slim{% endblock %}

{% block content %}
    <h1 style="font-weight: 600;">Editar Transação</h1>
    <div class="card form-edicao">
        <form method="POST">
            <label for="descricao">Descrição:</label>
            <input type="text" name="descricao" value="{{ transacao.descricao }}" required>
            
            <label for="valor">Valor:</label>
            <input type="number" name="valor" step="0.01" value="{{ transacao.valor }}" required>
            
            <label for="data">Data:</label>
            <input type="date" name="data" value="{{ transacao.data.strftime('%Y-%m-%d') }}" required>

            <label for="tipo">Tipo:</label>
            <select name="tipo" id="tipo-select" required>
                <option value="receita" {% if transacao.tipo == 'receita' %}selected{% endif %}>Receita</option>
                <option value="despesa" {% if transacao.tipo == 'despesa' %}selected{% endif %}>Despesa</option>
            </select>
            
            <div id="categoria-select-wrapper">
                <label for="categoria">Categoria:</label>
                <select name="categoria" id="categoria-select">
                    <option value="">-- Selecione uma categoria --</option>
                    {% for cat in categorias %}
                        <option value="{{ cat.id }}" {% if transacao.categoria_id == cat.id %}selected{% endif %}>
                            {{ cat.nome }}
                        </option>
                    {% endfor %}
                </select>
            </div>

            <button type="submit">Salvar Alterações</button>
        </form>
    </div>
{% endblock %}